#SQL(노말)
SELECT BOOK_ID, DATE_FORMAT(PUBLISHED_DATE,'%Y-%m-%d') AS PUBLISHED_DATE
FROM BOOK
WHERE (CATEGORY='인문') AND (YEAR(PUBLISHED_DATE)='2021')
ORDER BY PUBLISHED_DATE ASC;

#SQL(챌린지)
#테이블(1) CAR_RENTAL_COMPANY_RENTAL_HISTORY 자동차대여기록정보 : HISTORY_ID, CAR_ID, 
#                                               START_DATE, END_DATE
#22년10월16일에 대여중이려면 시작일<=221016 이고, 끝일>=221016

SELECT DISTINCT CAR_ID, 
       CASE WHEN CAR_ID IN (SELECT CAR_ID
                 FROM CAR_RENTAL_COMPANY_RENTAL_HISTORY
                 WHERE (DATE_FORMAT(START_DATE,'%Y-%m-%d')<='2022-10-16') AND
                       (DATE_FORMAT(END_DATE,'%Y-%m-%d')>='2022-10-16')) THEN '대여중'
                 ELSE '대여 가능' END AS AVAILABILITY
FROM CAR_RENTAL_COMPANY_RENTAL_HISTORY
ORDER BY CAR_ID DESC;

#풀이시간 : 12분